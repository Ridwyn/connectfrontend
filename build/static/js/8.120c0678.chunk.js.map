{"version":3,"sources":["components/SearchPage.js"],"names":["SearchPage","search","useLocation","useState","term","setTerm","results","setResults","history","useHistory","useEffect","a","query","URLSearchParams","console","log","get","searchTasks","search_term","className","map","task","onClick","push","RouterPaths","TaskForm","urlPathText","space_id","workspace","_id","project_id","project","task_id","handleTaskClick","name","style","backgroundColor","status","color","TaskView","handleProjectClick","ProjectMenu","handleSpaceClick"],"mappings":"kLAwEeA,UAnEI,WACf,IAAOC,EAAUC,cAAVD,OACP,EAAwBE,qBAAxB,mBAAOC,EAAP,KAAaC,EAAb,KACA,EAA8BF,mBAAS,IAAvC,mBAAOG,EAAP,KAAgBC,EAAhB,KACMC,EAAUC,cAIhBC,oBAAS,sBAAE,8BAAAC,EAAA,6DACDC,EAAQ,IAAIC,gBAAgBZ,GAClCa,QAAQC,IAAIH,EAAMI,IAAI,SACtBX,EAAQO,EAAMI,IAAI,SAHX,SAKgBC,YAAY,CAACC,YAAYN,EAAMI,IAAI,UALnD,OAKDV,EALC,OAMPC,EAAWD,GACXQ,QAAQC,IAAIT,GAPL,2CASR,CAACL,IAgBN,OACE,gCACI,0DAA6BG,EAA7B,OACA,sBAAKe,UAAU,4BAAf,UACI,qBAAKA,UAAU,QAAf,uBACA,qBAAKA,UAAU,QAAf,qBACA,qBAAKA,UAAU,QAAf,sBACA,qBAAKA,UAAU,QAAf,sBAGAb,EAAQc,KAAI,SAACC,GAAD,OACR,sBAAKF,UAAU,iCAAf,UACI,qBAAKA,UAAU,QAAf,SACI,wBAAQG,QAAS,kBA3Bb,SAACD,GACrBb,EAAQe,KAAKC,cAAcC,SAASC,YAAY,CAACC,SAASN,EAAKO,UAAUC,IAAIC,WAAWT,EAAKU,QAAQF,IAAKG,QAAQX,EAAKQ,OA0BjFI,CAAgBZ,IAAtC,SAA+CA,EAAKa,SAExD,qBAAKf,UAAU,QAAf,SACG,uBAAMA,UAAU,qBAAqBgB,MAAO,CAACC,gBAAgBf,EAAKgB,OAAOC,MAAOA,MAAM,SAAtF,cAAkGjB,EAAKgB,OAAOA,YAEjH,qBAAKlB,UAAU,QAAf,SACI,wBAAQG,QAAS,kBA7BV,SAACD,GACxBb,EAAQe,KAAKC,cAAce,SAASb,YAAY,CAACC,SAASN,EAAKO,UAAUC,IAAIC,WAAWT,EAAKU,QAAQF,OA4B/DW,CAAmBnB,IAAzC,SAAkDA,EAAKU,QAAQG,SAGnE,qBAAKf,UAAU,QAAf,SACI,wBAAQG,QAAS,kBA9BZ,SAACD,GACtBb,EAAQe,KAAKC,cAAciB,YAAYf,YAAY,CAACC,SAASN,EAAKO,UAAUC,IAAIC,WAAWT,EAAKU,QAAQF,IAAKG,QAAQX,EAAKQ,OA6BpFa,CAAiBrB,IAAvC,SAAgDA,EAAKO,UAAUM","file":"static/js/8.120c0678.chunk.js","sourcesContent":["import React, {useEffect, useState} from 'react'\r\nimport { useLocation, useHistory } from \"react-router-dom\";\r\nimport {searchTasks} from \"../actions/task\"\r\nimport RouterPaths from '../components/RouterPaths'\r\n\r\nconst SearchPage = () => {\r\n    const {search} = useLocation();\r\n    const [term, setTerm] = useState();\r\n    const [results, setResults] = useState([]);\r\n    const history = useHistory();\r\n\r\n\r\n\r\n    useEffect( async() => {\r\n        const query = new URLSearchParams(search)\r\n        console.log(query.get('term'));\r\n        setTerm(query.get('term'));\r\n\r\n        const results = await  searchTasks({search_term:query.get('term')});\r\n        setResults(results);\r\n        console.log(results)\r\n    \r\n    }, [search])\r\n    \r\n    const handleTaskClick = (task) =>{\r\n        history.push(RouterPaths().TaskForm.urlPathText({space_id:task.workspace._id,project_id:task.project._id, task_id:task._id}))\r\n    }\r\n\r\n    const handleProjectClick = (task)=>{\r\n        history.push(RouterPaths().TaskView.urlPathText({space_id:task.workspace._id,project_id:task.project._id}))\r\n    }\r\n    const handleSpaceClick = (task)=>{\r\n        history.push(RouterPaths().ProjectMenu.urlPathText({space_id:task.workspace._id,project_id:task.project._id, task_id:task._id}))\r\n    }\r\n\r\n    \r\n    \r\n\r\n  return (\r\n    <div>\r\n        <h4>Task Search Results for {term} </h4>\r\n        <div className='row border-bottom mx-auto'>\r\n            <div className='col-3'>Task Name</div>\r\n            <div className='col-3'> Status</div>\r\n            <div className='col-3'> Project</div>\r\n            <div className='col-3'>Space</div>\r\n        </div>\r\n        {\r\n            results.map((task)=>(\r\n                <div className='row py-3 border-bottom mx-auto'>\r\n                    <div className='col-3'>\r\n                        <button onClick={()=>(handleTaskClick(task))}>{task.name}</button>   \r\n                    </div>\r\n                    <div className='col-3'>\r\n                       <span className='p-2 border rounded' style={{backgroundColor:task.status.color, color:'white'}}> {task.status.status}</span> \r\n                    </div>\r\n                    <div className='col-3'>\r\n                        <button onClick={()=>(handleProjectClick(task))}>{task.project.name}</button> \r\n                    \r\n                    </div>\r\n                    <div className='col-3'>\r\n                        <button onClick={()=>(handleSpaceClick(task))}>{task.workspace.name}</button> \r\n                    </div>\r\n                </div>\r\n            ))\r\n        }\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default SearchPage"],"sourceRoot":""}